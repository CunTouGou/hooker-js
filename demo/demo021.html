<!---- Creator: Eoly -->
<!---- On 2017/9/20 -->
<!---- Call http://palerock.cn -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>Title</title>
    <style>
        * {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }
    </style>
    <!--<script src="ajaxHook.js"></script>-->
    <script src="../src/everything-hook.js"></script>
    <script>
        // 方法中的this指向内部xhr[只可以调用不可以更改]，
        // this.xhr指向外部xhr可以更改可以重定义[需要用代理属性，即在属性名后面加上'_']
        aHook.register('.*/palerock.cn/h5_back/group/find-groups',
                function (o) {
                    console.log(o, this.xhr);
                    o.params.push({
                        key: 'hhh',
                        value: '12356'
                    });
                }, function (res) {
//                    this.xhr.status_ = 0;
                    return 'asdas';
                }
        );
        aHook.register('http://palerock.cn/h5_back/group/find-.*', {
            hookRequest: function (args) {
                console.log(args)
            }
        });
    </script>
    <script src="ajax.js"></script>
    <script src="jquery-3.1.1.js"></script>
    <script>
        Ajax({
            url: 'http://palerock.cn/h5_back/group/find-groups',
            method: 'get',
            params: {goodsTypeId: 11},
            async: true
        }).then(function (res) {
            console.log(res);
        }, function (res) {
            console.log(res);
        });
    </script>
</head>
<body>

</body>
</html>