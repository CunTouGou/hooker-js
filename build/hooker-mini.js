/*! For license information please see hooker-mini.js.LICENSE.txt */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}("undefined"!=typeof self?self:this,(function(){return t={253:function(t){!function(e,r){"use strict";"object"==typeof t.exports?t.exports=r(e):r(e)}("undefined"!=typeof window?window:this,(function(t,e){var r={isArray:function(t){return Array.isArray(t)||"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return!!t&&"function"==typeof t},isExistObject:function(t){return t&&"object"==typeof t},isString:function(t){return null!==t&&"string"==typeof t},uniqueNum:1e3,buildUniqueId:function(){var t=(new Date).getTime().toString(),e=this.uniqueNum.toString();return this.uniqueNum++,t+e}},n={_parseDepends:function(t){var e=[];if(r.isArray(t))return t.forEach((function(t){r.isString(t)&&e.push(n[t.toLowerCase()])})),e}},i=function(t,e,i){r.isFunction(i)&&(n[t.toLowerCase()]=i.apply(this,n._parseDepends(e)))},o=function(t,e){r.isFunction(e)&&e.apply(this,n._parseDepends(t))};return i("BaseUtils",[],(function(){return r})),i("logger",[],(function(){return console})),i("DateTimeUtils",["logger"],(function(t){return{printNowTime:function(){var t=new Date;console.log(this.pattern(t,"hh:mm:ss:S"))},pattern:function(t,e){var r={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours()%12==0?12:t.getHours()%12,"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+{0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"}[t.getDay()+""])),r)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return e},getCurrentId:function(){return(new Date).getTime()},getNowBetweenADay:function(e,r,n){if(n||(n="day"),"number"==typeof e&&(e=new Date(e)),!(e instanceof Date))throw new TypeError("该参数类型必须是Date");var i=e.getTime(),o=new Date,s=o.getTime();s-i<0&&t.warn("需要计算的时间必须在当前时间之前");var u=0;switch(n){default:case"day":u=(s-i)/864e5;break;case"month":var a=o.getFullYear()-e.getFullYear();a>0&&(u+=12*a),u+=o.getMonth()-e.getMonth();break;case"year":u+=o.getFullYear()-e.getFullYear()}return r?(0===u&&r&&(u=1),Math.ceil(u)):Math.floor(u)}}})),i("ArrayUtils",["BaseUtils"],(function(e){return{isArrayObject:function(t){return e.isArray(t)},ergodicArrayObject:function(r,n,i){if(r||(r=t),e.isArray(n)&&e.isFunction(i))for(var o=0;o<n.length;o++){var s=i.call(r,n[o],o);if(s&&-1===s)break}},getPropertyDo:function(t,e,r,n,i){null===i&&(i=!0),this.ergodicArrayObject(t,e,(function(e){i&&!e.hasOwnProperty(r)||n.call(t,e[r],e)}))},parseKeyValue:function(t){var r={};return e.isArray(t)?(this.ergodicArrayObject(this,t,(function(t){null!==t.key&&(r.hasOwnProperty(t.key)||(r[t.key]=t.value))})),r):r},getHashCode:function(t){var e=t.toString(),r=31;if(0===e.length)return r;for(var n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r&=r;return r},parseArrayByProperty:function(t,e){var r=[];return this.isArrayObject(t)?(this.getPropertyDo(this,t,e,(function(t){r.push(t)}),!0),r):r},isContainsObject:function(r,n,i){var o=!1;return this.ergodicArrayObject(this,r,(function(r,s){if(n===r)return o=!0,e.isFunction(i)&&i.call(t,s),-1})),o},getMaxInArray:function(t,r){for(var n=null,i=-1;null===n&&i<t.length;)n=t[++i];for(var o=i+1;o<t.length;o++)if(null!==n&&this.isArrayObject(n)&&this.isArrayObject(t[o])){for(var s=n.length,u=0;n[u]===t[o][u]&&u<s;)u++;null!==n[u]&&n[u]<t[o][u]&&(n=t[o],i=o)}else null!==n&&n<t[o]&&(n=t[o],i=o);return e.isFunction(r)&&r.call(this,n,i),n},getSumInArray:function(r,n){if(this.isArrayObject(r)){var i=0,o=0;return this.ergodicArrayObject(this,r,(function(t){"number"!=typeof t||Number.isNaN(t)||(i+=t,o+=1)})),e.isFunction(n)&&n.call(t,i,o),i}},getAverageInArray:function(t){var e=0;return this.getSumInArray(t,(function(t,r){0===r||(e=t/r)})),e},sortingArrays:function(t,r,n){if(this.isArrayObject(t)){var i=t.slice(0),o=null;switch(n&&n.getComparedProperty&&e.isFunction(n.getComparedProperty)&&(i=n.getComparedProperty(t)),r){default:case 0:o=i.push;break;case 1:o=i.unshift}for(var s=[],u=0;u<i.length;u++)this.getMaxInArray(i,(function(e,r){delete i[r],o.call(s,t[r])}));return n&&n.createNewData?s.slice(0):s}},toArray:function(t){if(!t||0===t.length)return[];if(!t.length)return t;try{return[].slice.call(t)}catch(i){for(var e=0,r=t.length,n=[];e<r;e++)n.push(t[e]);return n}},isArrayLick:function(t){return!!(t&&"object"==typeof t&&isFinite(t.length)&&t.length>=0&&t.length===Math.floor(t.length)&&t.length<4294967296)},contains:function(t,e){var r=!1;return this.ergodicArrayObject(this,t,(function(t){if(t===e)return r=!0,-1})),r}}})),i("ObjectUtils",["ArrayUtils","BaseUtils"],(function(e,r){return{readLinkProperty:function(n,i,o){var s=null;if(r.isFunction(o)&&(s=o),"string"==typeof i){if(""===(i=i.replace(/ /g,"")))return null;if(-1!==i.indexOf(",")){var u=i.split(",");return this.readLinkProperty(n,u,s)}if(-1!==i.indexOf(".")){var a=i.split("."),c=n,f=null;return e.ergodicArrayObject(this,a,(function(e,r){if(c=this.readLinkProperty(c,e),a[a.length-1]===e&&a.length-1===r&&(f=c,s&&s.call(t,f,i)),void 0===c)return-1})),f}var h=null;if("()"===i.slice(i.length-2)){var l=i.slice(0,i.length-2);h=n[l]()}else h=n[i];return null===h&&console.warn(n,"的属性['"+i+"']值未找到"),s&&s.call(t,h,i),h}if(r.isArray(i)){var p=[];return e.ergodicArrayObject(this,i,(function(e){var r=this.readLinkProperty(n,e);if(p.push(r),s&&""!==e)return s.call(t,r,e)})),p.isMultipleResults=!0,p}},createLinkProperty:function(t,n,i){if(null===t&&(t={}),"string"==typeof n){if(""===(n=n.replace(/ /g,"")))throw new TypeError("对象属性名不能为空");if(-1!==n.indexOf(",")){var o=n.split(",");return this.createLinkProperty(t,o,i),t}if(-1!==n.indexOf(".")){var s=n.split(".");t.hasOwnProperty(s[0])||(t[s[0]]={}),Number.isNaN(parseInt(s[0]))||e.isArrayObject(t)||(t=[]);var u=t[s[0]],a=s.slice(1,s.length),c="";return e.ergodicArrayObject(this,a,(function(t,e){e<a.length-1?c=c+t+".":c+=t})),t[s[0]]=this.createLinkProperty(u,c,i),t}return Number.isNaN(parseInt(n))||e.isArrayObject(t)||(t=[]),t[n]=i,t}if(r.isArray(n))return e.ergodicArrayObject(this,n,(function(e){t=this.createLinkProperty(t,e,i)})),t},ergodicObject:function(t,r,n,i){var o=Object.keys(r);e.ergodicArrayObject(this,o,(function(e){var o=e;if(!i||null===r[e]||"object"!=typeof r[e])return n.call(t,r[e],e);this.ergodicObject(this,r[e],(function(e,r){return n.call(t,e,o+"."+r)}),!0)}))},whileEmptyObjectProperty:function(n,i,o,s){if("string"==typeof o){if(""===(o=o.replace(/ /g,"")))return;if(-1!==o.indexOf(",")){var u=o.split(",");return this.whileEmptyObjectProperty(n,i,u,s)}if(-1!==o.indexOf(".")){var a=o.split("."),c=i,f=null;return e.ergodicArrayObject(this,a,(function(e){if(!c||!c.hasOwnProperty(e))return f=s.call(t,o),-1;c=c[e]})),f}if(!i.hasOwnProperty(o))return s.call(n,o);if(null===i[o]||""===i[o])return s.call(n,o)}else if(r.isArray(o)){var h=this;e.ergodicArrayObject(this,o,(function(t){return h.whileEmptyObjectProperty(n,i,t,s)}))}},whileEmptyObjectPropertyV2:function(t,e,r,n){this.readLinkProperty(e,r,(function(e,r){if(null===e||""===e||parseInt(e)<0)return n.call(t,r)}))},cloneObject:function(t){var n={};if("string"==typeof t||"number"==typeof t||void 0===t||"function"==typeof t||"boolean"==typeof t)return t;if(r.isArray(t))n=[],e.ergodicArrayObject(this,t,(function(t){n.push(this.cloneObject(t))}));else if("object"==typeof t){if(null===t)return null;this.ergodicObject(this,t,(function(t,e){n[e]=this.cloneObject(t)}))}return n},getObjHashCode:function(t){var e,r,n=JSON.stringify(t),i=0;if(console.log(n),console.log(i),0===n.length)return i;for(e=0,r=n.length;e<r;e++)i=(i<<5)-i+n.charCodeAt(e),i|=0;return console.log(n),console.log(i),i},expandObject:function(t,e,r,n){var i=t;return n&&(i=this.cloneObject(t)),this.ergodicObject(this,e,(function(t,e){r&&null!==this.readLinkProperty(i,e)||(i=this.createLinkProperty(i,e,t))}),!0),i},sortingArrayByProperty:function(t,r,n){var i=this,o={createNewData:!1,getComparedProperty:function(t){var n=[];return e.ergodicArrayObject(i,t,(function(t,e){if("object"!=typeof t)n.push(t);else{var i=this.readLinkProperty(t,r);null!==i?n.push(i):n.push(t)}})),n.slice(0)}};return e.sortingArrays(t,n,o)},toAimObject:function(t,n,i){if(r.isArray(t)){var o=[];return e.ergodicArrayObject(this,t,(function(t){o.push(this.toAimObject(t,n,i))})),o}if("object"==typeof t){if(i&&this.ergodicObject(this,i,(function(e,r){null===t[r]&&(t[r]=e)})),t instanceof n)return t;for(var s=t;null!==s.__proto__&&s.__proto__!==Object.prototype;)s=s.__proto__;return s.__proto__=n.prototype,s}},parseTheSameObjectPropertyInArray:function(t,n){var i={},o={};return e.ergodicArrayObject(this,t,(function(t){this.readLinkProperty(t,n,(function(t,e){o.hasOwnProperty(e)&&r.isArray(o[e])||(o[e]=[]),o[e].push(t)}))})),this.ergodicObject(this,o,(function(t,e){i=this.createLinkProperty(i,e,t)})),this.cloneObject(i)},parseTheSameObjectAllPropertyInArray:function(t){if(e.isArrayObject(t)&&!(t.length<1)){var r=[];return this.ergodicObject(this,t[0],(function(t,e){r.push(e)}),!0),this.parseTheSameObjectPropertyInArray(t,r)}},getCalculationInArrayByLinkPropertyNames:function(t,r,n){var i={},o=this;switch(n){default:case"sum":this.readLinkProperty(t,r,(function(t,r){e.isArrayObject(t)&&(i=o.createLinkProperty(i,r,e.getSumInArray(t)))}));break;case"average":this.readLinkProperty(t,r,(function(t,r){e.isArrayObject(t)&&(i=o.createLinkProperty(i,r,e.getAverageInArray(t)))}))}return i}}})),i("ColorUtils",[],(function(){return{rgbToHex:function(t,e,r){var n=(t<<16|e<<8|r).toString(16);return"#"+new Array(Math.abs(n.length-7)).join("0")+n},hexToRgb:function(t){var e=[];switch((t=t.replace(/ /g,"")).length){case 4:return e.push(parseInt(t[1]+t[1],16)),e.push(parseInt(t[2]+t[2],16)),e.push(parseInt(t[3]+t[3],16)),e;case 7:for(var r=1;r<7;r+=2)e.push(parseInt("0x"+t.slice(r,r+2)));return e}},gradientColorsPercentage:function(t,e,r){var n=[],i=this.hexToRgb(t);if(null==e)return t;var o=this.hexToRgb(e),s=o[0]-i[0],u=o[1]-i[1],a=o[2]-i[2];return n.push(i[0]+s*r),n.push(i[1]+u*r),n.push(i[2]+a*r),this.rgbToHex(n[0],n[1],n[2])}}})),i("FunctionUtils",[],(function(){return{getFunctionName:function(t){if("function"==typeof t||"object"==typeof t)var e=(""+t).match(/function\s*([\w\$]*)\s*\(/);return t.name||e[1]},getFunctionParams:function(t){if("function"==typeof t||"object"==typeof t)return(""+t).match(/function.*\(([^)]*)\)/)[1].replace(/( )|(\n)/g,"").split(",")},getCallerName:function(t){var e=t.callee.caller,r="";return e&&(r=this.getFunctionName(e)),r},FunctionBuilder:function(t){var e=this,r=[];r.push(t),["push","unshift","slice","map","forEach","keys","find","concat","fill","shift","values"].map((function(t){"function"==typeof Array.prototype[t]&&Object.defineProperty(e,t,{get:function(){return function(){return r[t].apply(r,arguments),this}}})})),this.result=function(t){var e=[];return r.map((function(t,r){"function"==typeof t&&e.push(t)})),function(){var r={arguments,this:this};return e.map((function(e){var n=e.apply(t||this,[r]);n&&Object.keys(n).map((function(t){r[t]=n[t]}))})),r.returnValue}}},invokeMethods:function(t,e,r){if(this.isArray(e)){var n=[],i=this;return this.ergodicArrayObject(t,e,(function(e){i.isFunction(e)&&n.push(e.apply(t,r))})),n}}}})),i("UrlUtils",[],(function(){return{urlMatching:function(t,e){return new RegExp(e).test(t)},getUrlWithoutParam:function(t){return t.split("?")[0]},getParamFromUrl:function(t){var e=[],r=t.split("?");if(r.length<2)return e;for(var n=r[1].split("&"),i=0;i<n.length;i++){var o=n[i].indexOf("="),s=new Array(2);-1!==o?s=[n[i].substring(0,o),n[i].substring(o+1)]:s[0]=n[i],e.push({key:s[0],value:s[1]})}return e},margeUrlAndParams:function(t,e){if(-1!==t.indexOf("?")||!(e instanceof Array))return t;for(var r=[],n=0;n<e.length;n++)null!==e[n].key&&null!==e[n].value&&r.push(e[n].key+"="+e[n].value);return t+"?"+r.join("&")}}})),i("PointUtils",[],(function(){var t=function(t,e){this.x=t||0,this.y=e||0};return t.prototype={constructor:t,getOtherPointFromDistanceAndDeg:function(t,e){var r=Math.PI/180*e,n=new this.constructor;return n.x=t*Math.sin(r)+this.x,n.y=this.y-t*Math.cos(r),n},getDistanceFromAnotherPoint:function(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y))},getDegFromAnotherPoint:function(e){var r=new t(1e6*e.x-1e6*this.x,1e6*e.y-1e6*this.y);return 180-180*Math.atan2(1e6*r.x,1e6*r.y)/Math.PI},isInRect:function(t,e,r,n){var i=this.x,o=this.y;return!(i<t||i>t+r||o<e||o>e+n)}},{Point2D:t}})),i("PropExpand",["BaseUtils","ObjectUtils","ArrayUtils","UrlUtils"],(function(t,e,r,n){return{Object:{getProperty:function(t,r){return e.readLinkProperty(t,r)},setProperty:function(t,r,n){e.createLinkProperty(t,r,n)},mapConvert:function(t,e){},keyMap:function(t,e){},keyValues:function(t,e){},keyFilter:function(t,e){}},Array:{map:function(){},forEach:function(){},filter:function(){},reduce:function(){},keep:function(){},remove:function(){}},String:{join:function(t,e){}}}})),t.everyUtils=function(){if(r.isArray(arguments[0]))o.call(arguments[2]||this,arguments[0],arguments[1]);else if(r.isFunction(arguments[0])){var t=arguments;o.call(arguments[1]||this,["FunctionUtils"],(function(e){var r=e.getFunctionParams(t[0]);o(r,t[0])}))}},t.eUtils=function(){var e={};t.everyUtils&&t.everyUtils(["ArrayUtils","ObjectUtils","BaseUtils","FunctionUtils","ColorUtils","PointUtils","UrlUtils"],(function(t,r,n,i,o,s,u){e={ArrayUtils:t,ObjectUtils:r,BaseUtils:n,ColorUtils:o,UrlUtils:u,urlUtils:u,PointUtils:s,FunctionUtils:i}}));var r={};return Object.keys(e).forEach((function(t){t&&(Object.defineProperty(r,t,{get:function(){return e[t]}}),Object.keys(e[t]).forEach((function(n){n&&(r[n]||Object.defineProperty(r,n,{get:function(){return e[t][n]}}))})))})),r}(),t.eUtils}))},756:function(t,e,r){"use strict";const n=r(253);!function(e,r){if("object"==typeof t.exports){var i=r.bind(e)(e,n,!0)||[],o={};i.forEach((function(t){o[t.name]=t.module})),t.exports=o}else r.bind(e)(e,n)}("undefined"!=typeof window?window:this,(function(t,e,r){var n=function(){var t=1,e={},r={};this._getHookedMap=function(){return e},this._getHookedContextMap=function(){return r},this._getAutoStrId=function(){return"__auto__"+t++},this._getAutoId=function(){return t++}};if(n.prototype={_getHookedId:function(t){var e=this._getHookedContextMap(),r=null;return Object.keys(e).forEach((n=>{t===e[n]&&(r=n)})),null==r&&(r=this._getAutoStrId(),e[r]=t),r},_getHookedMethodMap:function(t){var r=this._getHookedId(t),n=this._getHookedMap(),i=n[r];return e.isExistObject(i)||(i=n[r]={}),i},_getHookedMethodTask:function(t,r){var n=this._getHookedMethodMap(t),i=n[r];return e.isExistObject(i)||(i=n[r]={original:void 0,replace:void 0,task:{before:[],current:void 0,after:[]}}),i},_invokeMethods:function(t,r,n){if(e.isArray(r)){var i=null;return e.ergodicArrayObject(t,r,(function(t){if(e.isFunction(t.method)){var r=t.method.apply(this,n);null!=r&&(i=r)}})),i}},_hook:function(t,r,n){void 0===n&&(n=t);var i=t[r],o=this._getHookedMethodTask(t,r);if(o.original||(o.original=i),e.isExistObject(o.replace)&&e.isFunction(o.replace.method))t[r]=o.replace.method(o.original);else{var s=this._invokeMethods,u=new e.FunctionBuilder((function(t){return{result:void 0}}));o.task.before.length>0&&u.push((function(t){s(n||t.this,o.task.before,[o.original,t.arguments])})),e.isExistObject(o.task.current)&&e.isFunction(o.task.current.method)?u.push((function(e){return{result:o.task.current.method.call(n||e.this,t,o.original,e.arguments)}})):u.push((function(t){return{result:o.original.apply(n||t.this,t.arguments)}})),o.task.after.length>0&&u.push((function(t){var e=[];e.push(o.original),e.push(t.arguments),e.push(t.result);var r=s(n||t.this,o.task.after,e);return{result:null!=r?r:t.result}})),u.push((function(t){return{returnValue:t.result}}));var a=u.result();for(var c in o.original)Object.defineProperty(a,c,{get:function(){return o.original[c]},set:function(t){o.original[c]=t}});a.prototype=o.original.prototype,t[r]=a}},hook:function(t,r,n){var i=-1,o=void 0!==n.context?n.context:t;if(null==t[r]&&(t[r]=function(){}),!e.isFunction(t[r]))return i;var s=this._getHookedMethodTask(t,r),u=this._getAutoId();return e.isFunction(n.replace)&&(s.replace={id:u,method:n.replace},i=0),e.isFunction(n.before)&&(s.task.before.push({id:u,method:n.before}),i=0),e.isFunction(n.current)&&(s.task.current={id:u,method:n.current},i=0),e.isFunction(n.after)&&(s.task.after.push({id:u,method:n.after}),i=0),0===i?(this._hook(t,r,o),u):i},hookReplace:function(t,e,r,n){return this.hook(t,e,{replace:r,context:n})},hookBefore:function(t,e,r,n){return this.hook(t,e,{before:r,context:n})},hookCurrent:function(t,e,r,n){return this.hook(t,e,{current:r,context:n})},hookAfter:function(t,e,r,n){return this.hook(t,e,{after:r,context:n})},hookClass:function(t,r,n,i,o){var s=this,u=t[r];o||(o=[]),o.push("prototype"),o.push("caller"),o.push("arguments"),i=i||"_innerHook";var a=function(){this[i]=new u,n.apply(this,arguments)};this.hookedToString(u,a),this.hookedToProperties(u,a,!0,o);var c=Object.getOwnPropertyNames(u.prototype),f=a.prototype={constructor:a};c.forEach((function(t){if("constructor"!==t){var r=function(){if(u.prototype[t]&&e.isFunction(u.prototype[t]))return u.prototype[t].apply(this[i],arguments)};s.hookedToString(u.prototype[t],r),f[t]=r}})),this.hookReplace(t,r,(function(){return a}),t)},hookedToProperties:function(t,r,n,i){Object.getOwnPropertyNames(t).forEach((function(o){e.contains(i,o)||(n?Object.defineProperty(r,o,{configurable:!1,enumerable:!1,value:t[o],writable:!1}):r[o]=t[o])}))},hookedToString:function(t,e){Object.defineProperties(e,{toString:{configurable:!1,enumerable:!1,value:t.toString.bind(t),writable:!1},toLocaleString:{configurable:!1,enumerable:!1,value:t.toLocaleString.bind(t),writable:!1}})},hookAjax:function(r){if(!this.isHooked(t,"XMLHttpRequest")){var n=this,i=function(t){return e.isFunction(r[t])&&n.hookBefore(this.xhr,t,r[t]),this.xhr[t].bind(this.xhr)},o=function(t){return function(){return this.hasOwnProperty(t+"_")?this[t+"_"]:this.xhr[t]}},s=function(t){return function(e){var i=this.xhr;0===t.indexOf("on")?r[t]?(i[t]=function(){e.apply(i,arguments)},n.hookBefore(i,t,r[t])):i[t]=e:this[t+"_"]=e}};return this.hookReplace(t,"XMLHttpRequest",(function(t){var r=function(){for(var r in this.xhr=new t,this.xhr){var n=this.xhr[r];e.isFunction(n)?this[r]=i.bind(this)(r):Object.defineProperty(this,r,{get:o(r),set:s(r)})}this.xhr.xhr=this};return n.hookedToProperties(t,r,!0),n.hookedToString(t,r),r}))}},hookAjaxV2:function(t){this.hookClass(window,"XMLHttpRequest",(function(){})),e.ergodicObject(this,t,(function(t){}))},unHook:function(t,r,n,i){if(t[r]&&e.isFunction(t[r])){var o=this._getHookedMethodTask(t,r);i&&this.unHookById(i)||(o.original?(t[r]=o.original,n&&delete this._getHookedMethodMap(t)[r]):delete this._getHookedMethodMap(t)[r])}},unHookById:function(t){var r=!1;if(t){var n=this._getHookedMap();e.ergodicObject(this,n,(function(n){e.ergodicObject(this,n,(function(e){e.task.before=e.task.before.filter((function(e){return r=r||e.id===t,e.id!==t})),e.task.after=e.task.after.filter((function(e){return r=r||e.id===t,e.id!==t})),e.task.current&&e.task.current.id===t&&(e.task.current=void 0,r=!0),e.replace&&e.replace.id===t&&(e.replace=void 0,r=!0)}))}))}return r},removeHookMethod:function(t,r){t[r]&&e.isFunction(t[r])&&(this._getHookedMethodMap(t)[r]={original:void 0,replace:void 0,task:{before:[],current:void 0,after:[]}})},isHooked:function(t,e){var r=this._getHookedMethodMap(t);return void 0!==r[e]&&void 0!==r[e].original},protect:function(t,e){Object.defineProperty(t,e,{configurable:!1,writable:!1})},preventError:function(t,e,r,n){this.hookCurrent(t,e,(function(t,n){var i=r;try{i=t.apply(this,n)}catch(t){console.log("Error Prevented from method "+e,t)}return i}),n)},plugins:function(r){if(e.isFunction(r.mount)){var n=r.mount.call(this,e);"string"==typeof r.name&&(t[r.name]=n)}}},!(t.eHook&&t.eHook instanceof n)){var i=new n,o=function(){this.isHooked=!1;var t=1;this._urlDispatcherList=[],this._getAutoId=function(){return t++}};return o.prototype={_invokeAimMethods:function(t,r,n){var i=e.parseArrayByProperty(t.patcherList,"config"),o=[];return e.ergodicArrayObject(t,i,(function(t){e.isFunction(t[r])&&o.push(t[r])})),e.invokeMethods(t,o,n)},_urlPatcher:function(t){var r=[];return e.ergodicArrayObject(this,this._urlDispatcherList,(function(n,i){e.UrlUtils.urlMatching(t,n.patcher)&&r.push(n)})),r},_xhrDispatcher:function(t,r){var n=e.UrlUtils.getUrlWithoutParam(r);t.patcherList=this._urlPatcher(n)},_parseEvent:function(t,e){try{Object.defineProperties(t,{target:{get:function(){return e}},srcElement:{get:function(){return e}}})}catch(t){console.warn("重定义返回事件失败，劫持响应可能失败")}return t},_parseOpenArgs:function(t){return{method:t[0],fullUrl:t[1],url:e.UrlUtils.getUrlWithoutParam(t[1]),params:e.UrlUtils.getParamFromUrl(t[1]),async:t[2]}},_rebuildOpenArgs:function(t,r){r[0]=t.method,r[1]=e.UrlUtils.margeUrlAndParams(t.url,t.params),r[2]=t.async},_getHookedArgs:function(t){return Array.prototype.slice.call(t,0).splice(1)},_onResponse:function(t,r){var n=this._getHookedArgs(r);n[0][0]=this._parseEvent(n[0][0],t.xhr);var i=this._invokeAimMethods(t,"hookResponse",n),o=-1;e.ergodicArrayObject(t,i,(function(t,e){null!=t&&(o=e)})),-1!==o&&(t.xhr.responseText_=t.xhr.response_=i[o])},startHook:function(){var e=this,r={onreadystatechange:function(){(4==this.readyState&&200==this.status||304==this.status)&&e._onResponse(this,arguments)},onload:function(){e._onResponse(this,arguments)},open:function(){var t=e._getHookedArgs(arguments),r=t[0][1];e._xhrDispatcher(this,r);var n=e._parseOpenArgs(t[0]);this.openArgs=n,e._invokeAimMethods(this,"hookRequest",[n]),e._rebuildOpenArgs(n,t[0])},send:function(){var t=e._getHookedArgs(arguments);this.sendArgs=t,e._invokeAimMethods(this,"hookSend",t)}};this.___hookedId=t.eHook.hookAjax(r),this.isHooked=!0},register:function(t,r,n){if(!t)return-1;if(!e.isExistObject(r)&&!e.isFunction(n))return-1;var i={};e.isFunction(r)&&(i.hookRequest=r),e.isFunction(n)&&(i.hookResponse=n),e.isExistObject(r)&&(i=r);var o=this._getAutoId();return this._urlDispatcherList.push({id:o,patcher:t,config:i}),this.isHooked||this.startHook(),o}},t.eHook=i,t.aHook=new o,[{name:"eHook",module:i},{name:"aHook",module:t.aHook}]}}))}},e={},function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}(756);var t,e}));